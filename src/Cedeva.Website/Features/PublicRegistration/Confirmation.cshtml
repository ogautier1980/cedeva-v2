@model Cedeva.Website.Features.PublicRegistration.ViewModels.ConfirmationViewModel

@{
    ViewData["Title"] = "Confirmation d'inscription";
    Layout = "~/Features/Shared/Layouts/_PublicLayout.cshtml";
}

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow border-success">
                <div class="card-header bg-success text-white text-center">
                    <h2 class="mb-0">
                        <i class="fas fa-check-circle fa-3x mb-3 d-block"></i>
                        @ViewData["Title"]
                    </h2>
                </div>
                <div class="card-body">
                    <div class="alert alert-success">
                        <h4 class="alert-heading"><i class="fas fa-check me-2"></i>Inscription réussie!</h4>
                        <p class="mb-0">Nous avons bien reçu votre demande d'inscription. Un email de confirmation a été envoyé à <strong>@Model.Parent.Email</strong>.</p>
                    </div>

                    <hr class="my-4">

                    <h4 class="mb-3"><i class="fas fa-info-circle me-2"></i>Récapitulatif de votre inscription</h4>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="card h-100 bg-light">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-clipboard-list me-2"></i>Activité</h5>
                                    <p class="mb-1"><strong>Nom:</strong> @Model.Activity.Name</p>
                                    <p class="mb-1"><strong>Du:</strong> @Model.Activity.StartDate.ToString("dd/MM/yyyy")</p>
                                    <p class="mb-1"><strong>Au:</strong> @Model.Activity.EndDate.ToString("dd/MM/yyyy")</p>
                                    @if (Model.Activity.PricePerDay.HasValue)
                                    {
                                        <p class="mb-0"><strong>Prix par jour:</strong> @Model.Activity.PricePerDay.Value.ToString("C")</p>
                                    }
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="card h-100 bg-light">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-child me-2"></i>Enfant</h5>
                                    <p class="mb-1"><strong>Nom:</strong> @Model.Child.FirstName @Model.Child.LastName</p>
                                    <p class="mb-1"><strong>Date de naissance:</strong> @Model.Child.BirthDate.ToString("dd/MM/yyyy")</p>
                                    <p class="mb-0"><strong>Âge:</strong> @(DateTime.Today.Year - Model.Child.BirthDate.Year - (DateTime.Today.DayOfYear < Model.Child.BirthDate.DayOfYear ? 1 : 0)) ans</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-user-circle me-2"></i>Parent</h5>
                                    <p class="mb-1"><strong>Nom:</strong> @Model.Parent.FirstName @Model.Parent.LastName</p>
                                    <p class="mb-1"><strong>Email:</strong> @Model.Parent.Email</p>
                                    <p class="mb-0"><strong>GSM:</strong> @Model.Parent.MobilePhoneNumber</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr class="my-4">

                    <div class="alert alert-info">
                        <h5 class="alert-heading"><i class="fas fa-exclamation-circle me-2"></i>Prochaines étapes</h5>
                        <ol class="mb-0">
                            <li>Vous recevrez un email de confirmation à l'adresse <strong>@Model.Parent.Email</strong></li>
                            <li>Notre équipe vérifiera votre inscription dans les prochains jours</li>
                            <li>Vous recevrez un email de confirmation finale une fois votre inscription validée</li>
                            <li>N'oubliez pas de nous faire parvenir la fiche médicale de votre enfant</li>
                        </ol>
                    </div>

                    <div class="card bg-light mt-3">
                        <div class="card-body text-center">
                            <p class="mb-1"><strong>Numéro de réservation:</strong></p>
                            <h3 class="text-primary mb-0">#@Model.Booking.Id</h3>
                            <p class="text-muted small mb-0">Conservez ce numéro pour toute correspondance</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
